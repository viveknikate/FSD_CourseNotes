<%- include("header") -%>

  <div class="box" id="heading">
    <h1> <%= listTitle %> </h1>
  </div>

  <div class="box">

    <!--
      <% for (let i=0; i<newListItems.length; i++) { %>
      <div class="item">
        <input type="checkbox">
        <p><%=  newListItems[i].name  %></p>
      </div>
      <% } %> -->

      <% newListItems.forEach((i)=>{ %>
        <form action="/delete" method="post">
          <div class="item">
            <input type="checkbox" onchange="this.form.submit()" name="deleteBtn"
              value="<%= i._id %>"
            />
            <p><%= i.name %></p>
          </div>
          <input type="hidden" name="listName" value="<%= listTitle %>"/>
        </form>
      <%})%>

      <form class="item" action="/" method="post">
        <input 
              type="text" 
              name="newItem" 
              placeholder="New Item" 
              autocomplete="off" 
              required 
              oninvalid="this.setCustomValidity('This field is required, You can\'t left it empty')"
              oninput="this.setCustomValidity('')"
              autofocus
              />
        <button type="submit" name="list" value="<%= listTitle %>">+</button>
      </form>
  </div>

<%- include("footer") -%>
